<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />

    <title>Frontend Mentor | Interactive rating component</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              white: "hsl(0, 0%, 100%)",
              "light-grey": "hsl(217, 12%, 63%)",
              "medium-grey": "hsl(216, 12%, 54%)",
              "dark-blue": "hsl(213, 19%, 18%)",
              "very-dark-blue": "hsl(216, 12%, 8%)",
            },
          },
        },
      };
    </script>
  </head>
  <body class="flex justify-center items-center min-h-screen bg-very-dark-blue">
    <div
      class="max-w-sm bg-dark-blue p-5 overflow-hidden rounded-2xl text-white"
      id="rate_card"
    >
      <img
        src="./images/icon-star.svg"
        alt="Icon of Star"
        class="w-9 h-9 bg-l rounded-full p-2 bg-gray-600"
      />
      <div class="mt-4">
        <strong class="text-3xl text-white"> How did we do?</strong>
      </div>
      <div class="mt-2">
        <p class="text-light-grey text-xl">
          Please let us know how we did with your support request. All feedback
          is appreciated to help us improve our offering!
        </p>
      </div>

      <div
        class="flex flex-row mx-1 mt-7 justify-between text-light-grey text-xl"
      >
        <i
          class="px-5 py-3 bg-gray-600 rounded-full hover:animate-[spin_0.4s_linear] hover:rounded-none"
          id="rate-1"
          >1</i
        >
        <i
          class="px-5 py-3 bg-gray-600 rounded-full hover:animate-[spin_0.4s_linear] hover:rounded-none"
          id="rate-2"
          >2</i
        >
        <i
          class="px-5 py-3 bg-gray-600 rounded-full hover:animate-[spin_0.4s_linear] hover:rounded-none"
          id="rate-3"
          >3</i
        >
        <i
          class="px-5 py-3 bg-gray-600 rounded-full hover:animate-[spin_0.4s_linear] hover:rounded-none"
          id="rate-4"
          >4</i
        >
        <i
          class="px-5 py-3 bg-gray-600 rounded-full hover:animate-[spin_0.4s_linear] hover:rounded-none"
          id="rate-5"
          >5</i
        >
      </div>
      <button
        id="confirm-btn"
        class="bg-yellow-600 text-center mt-7 rounded-3xl h-10 text-xl text-gray-300 tracking-widest pt-1 hover:rounded-none duration-[400ms] min-w-full hover:bg-yellow-700"
      >
        SUBMIT
      </button>
    </div>
    <div
      id="result_card"
      class="text-white max-w-sm bg-dark-blue text-center overflow-hidden rounded-3xl hidden"
    >
      <div class="mx-24 mt-11">
        <img src="./images/illustration-thank-you.svg" alt="Thank You Image" />
      </div>
      <div
        id="result_div"
        class="my-7 text-yellow-600 p-1 bg-dark-blue max-w-[12rem] mx-24 rounded-3xl"
      ></div>
      <strong class="text-2xl"> Thank you! </strong>
      <div class="mx-[2rem] text-sm mt-2 mb-10">
        <p class="text-light-grey">
          We appreciate you taking the time to give a rating. If you ever need
          more support, donâ€™t hesitate to get in touch!
        </p>
      </div>
    </div>
    <script>
      let rate1 = document.getElementById("rate-1");
      let rate2 = document.getElementById("rate-2");
      let rate3 = document.getElementById("rate-3");
      let rate4 = document.getElementById("rate-4");
      let rate5 = document.getElementById("rate-5");
      let note1 = "You selected ";
      let note2 = " out of 5";
      let selected_rate = "none ";
      var listofrates = [rate1, rate2, rate3, rate4, rate5];
      listofrates.forEach(function (entry) {
        entry.addEventListener("click", function () {
          entry.classList.add("bg-yellow-600");
          selected_rate = entry.innerHTML;
          let none_clicked_rate = listofrates.filter((data) => data != entry);
          none_clicked_rate.forEach(function (entry) {
            entry.classList.remove("bg-yellow-600");
          });
        });
      });

      let btn = document
        .getElementById("confirm-btn")
        .addEventListener("click", function (seleted_rate) {
          let rate_card = document.getElementById("rate_card");
          let result_card = document.getElementById("result_card");

          rate_card.classList.add("hidden");
          result_card.classList.remove("hidden");

          let result = (document.getElementById("result_div").innerHTML =
            note1 + selected_rate + note2);
        });
    </script>
  </body>
</html>
